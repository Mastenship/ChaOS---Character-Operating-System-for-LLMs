=== SECTION: STRESS_CASCADE_RESOLUTION ===

[KEEP: Purpose & Role]
This COT defines the cascade from stressor detection through physiological response to behavioral impulses. It uses evidence-based models (psychoneuroimmunology, allostatic load) to translate narrative stress cues into:
- proposed physiological state changes (as proposals)
- temporary arousal or performance overlays (as modifiers)
- stress-driven behavioral impulses (into [COGNITIVE_SCRATCHPAD][ACTIVE_IMPULSE_REGISTRY])

[KEEP: Relationship to Other Modules]
Informs: BODY (biochemical markers), COPE (mechanism selection), SKILLS (performance modulation via TEMPORARY_MODIFIERS), DECISION_SYNTHESIS (impulses)
Is Informed By: MEMORY (salience cues), HEXACO (trait modulation), RELATIONAL (social stressors), ALTERATIONS (vulnerability states), TEMPORARY_MODIFIERS (active overlays), narrative input

=== SECTION_BREAK ===

=== SECTION: WRITE_POLICY_OVERRIDE ===

[[LLM_INSTRUCTION]]: This COT is forbidden from directly modifying any persistent module file, including BODY, COPE, SKILLS, RELATIONAL, MEMORY, ALTERATIONS, DOMINANT_PREDICTIVE_FRAME, GOALS_MOTIVATIONS, BELIEF_SYSTEMS, COMMUNICATION_DIALOGUE, TEMPORAL_DYNAMICS, and TEMPORARY_MODIFIERS.

[[LLM_INSTRUCTION]]: This COT MUST express all intended persistent-state changes ONLY as proposals in:
- [COGNITIVE_SCRATCHPAD][PROPOSED_UPDATES_REGISTRY]

[[LLM_INSTRUCTION]]: This COT MAY write behavioral impulses to:
- [COGNITIVE_SCRATCHPAD][ACTIVE_IMPULSE_REGISTRY]

[[LLM_INSTRUCTION]]: Only STATE_GOVERNANCE_AND_COMMIT may commit proposals into persistent modules and TEMPORARY_MODIFIERS.

=== SECTION_BREAK ===

=== SECTION: TEMPORARY_MODIFIERS_INTEGRATION ===

[[LLM_INSTRUCTION]]: Before stressor classification, read TEMPORARY_MODIFIERS for ACTIVE modifiers relevant to:
- arousal or threat weighting
- environmental stress
- cognitive load
- alteration temporary effects

Apply these as overlays. Do not rewrite HARD_STATE baselines due to modifiers.

Preference_Rule:
- For transient stress impacts, prefer ADD_MODIFIER proposals into TEMPORARY_MODIFIERS over HARD_STATE transitions.

=== SECTION_BREAK ===

=== SECTION: SCIENTIFIC_MODELS ===

[[LLM_INSTRUCTION]]: Apply these frameworks when processing stress cascades.

SCIENTIFIC_MODELS:
- HPA_AXIS_MODEL
- ALLOSTATIC_LOAD_THEORY
- DUAL_PROCESS_THREAT_DETECTION
- POLYVAGAL_THEORY
- YERKES_DODSON_LAW

=== SECTION_BREAK ===

=== SECTION: STRESSOR_CLASSIFICATION ===

[[LLM_INSTRUCTION]]: Classify incoming stressors using a transactional appraisal model.

STRESSOR_TYPES:
- PHYSICAL_THREAT
- SOCIAL_THREAT
- RESOURCE_THREAT
- UNCERTAINTY_THREAT

NARRATIVE_CUE_EXAMPLES:

PHYSICAL_THREAT:
- WEAPON_PRESENT
- PURSUIT
- INJURY
- THREAT_PROXIMITY_CLOSE

SOCIAL_THREAT:
- REJECTION
- HUMILIATION
- DOMINANCE_CHALLENGE
- PUBLIC_EVALUATION

RESOURCE_THREAT:
- HUNGER
- THIRST
- SHELTER_LOSS
- DEPRIVATION

UNCERTAINTY_THREAT:
- AMBIGUITY
- HIDDEN_INTENT
- VIOLATED_EXPECTATIONS

=== SECTION_BREAK ===

=== SECTION: TRAIT_MODULATION_MATRIX ===

[[LLM_INSTRUCTION]]: Adjust stress magnitude based on trait context if available.

TRAIT_MODULATION_RULES:
- HIGH_HEXACO_EMOTIONALITY: amplify response and delay recovery
- LOW_HEXACO_EMOTIONALITY: dampen response and accelerate recovery
- HIGH_CONSCIENTIOUSNESS: stress from disorder and failure; planning bias
- HIGH_OPENNESS: stress from restriction; reframing bias

=== SECTION_BREAK ===

=== SECTION: CASCADE_SEQUENCE_LOGIC ===

[[LLM_INSTRUCTION]]: Generate proposals using canonical bracket TARGET_FIELD paths. Do not commit directly.

STAGE_1_ALARM:
- Condition: immediate threat cues present
- Preferred outputs:
  - HARD_STATE endocrine transitions (step-limited)
  - Physiological descriptors as SET (qualitative)
  - Stress impulses (FIGHT, FLIGHT, FREEZE, FAWN)

STAGE_2_RESISTANCE:
- Condition: threat persists beyond immediate moment
- Preferred outputs:
  - ADD_MODIFIER overlays into TEMPORARY_MODIFIERS (AROUSAL_MODIFIER, PERFORMANCE_MODIFIER, COGNITIVE_LOAD_MODIFIER)

STAGE_3_RESOLUTION_OR_EXHAUSTION:
- Condition: threat resolves or persists for days
- Preferred outputs:
  - REMOVE_MODIFIER proposals if expiry cues exist
  - Chronic endocrine transitions only if multi-day persistence is explicit

=== SECTION_BREAK ===

=== SECTION: PROPOSAL_OUTPUT_CONTRACT ===

[[LLM_INSTRUCTION]]: When generating proposals, use this schema in [COGNITIVE_SCRATCHPAD][PROPOSED_UPDATES_REGISTRY].

Required_Proposal_Fields:
- PROPOSAL_ID
- SOURCE_COT
- TARGET_MODULE
- TARGET_FIELD
- OPERATION_TYPE
- PROPOSED_VALUE
- STRENGTH
- MECHANISM_TAG
- JUSTIFICATION

SOURCE_COT for this COT:
- STRESS_CASCADE_RESOLUTION

=== SECTION_BREAK ===

=== SECTION: CANONICAL_TARGETS ===

[[LLM_INSTRUCTION]]: Use these canonical targets when proposing updates.

HARD_STATE_ENDOCRINE_TARGETS:
- [BODY][BIOCHEMICAL_STATE_MARKERS][CORTISOL]
- [BODY][BIOCHEMICAL_STATE_MARKERS][ADRENALINE]

QUALITATIVE_PHYSIOLOGY_TARGETS:
- [BODY][PHYSIOLOGICAL_HEALTH][HEART_RATE]
- [BODY][PHYSIOLOGICAL_HEALTH][BLOOD_PRESSURE]
- [BODY][PHYSIOLOGICAL_HEALTH][RESPIRATORY_RATE]

COPE_TARGETS:
- [COPE][PRIMARY_MECHANISM]
- [COPE][SECONDARY_MECHANISM]
- [COPE][SUBSTANCE_USE_RISK]

SKILLS_EXECUTION_MODIFIER_TARGET:
- [SKILLS][SKL_XX][EXECUTION]

=== SECTION_BREAK ===

=== SECTION: STAGE_1_ALARM_PROPOSALS ===

[[LLM_INSTRUCTION]]: If immediate threat cues are present, propose step-limited endocrine escalation.

CORTISOL_ALARM:
- Propose TRANSITION:
  TARGET_FIELD: [BODY][BIOCHEMICAL_STATE_MARKERS][CORTISOL]
  PROPOSED_VALUE: ONE_STEP_TOWARD_SPIKE
  MECHANISM_TAG: HPA_AXIS

ADRENALINE_ALARM:
- Propose TRANSITION:
  TARGET_FIELD: [BODY][BIOCHEMICAL_STATE_MARKERS][ADRENALINE]
  PROPOSED_VALUE: ONE_STEP_TOWARD_PEAK
  MECHANISM_TAG: SYMPATHETIC

PHYSIOLOGY_DESCRIPTORS:
- Propose SET if visible physiology is narratively relevant:
  - [BODY][PHYSIOLOGICAL_HEALTH][HEART_RATE]: ELEVATED or RACING
  - [BODY][PHYSIOLOGICAL_HEALTH][RESPIRATORY_RATE]: FAST or SHALLOW
  - [BODY][PHYSIOLOGICAL_HEALTH][BLOOD_PRESSURE]: HIGH

=== SECTION_BREAK ===

=== SECTION: STAGE_2_RESISTANCE_MODIFIER_PROPOSALS ===

[[LLM_INSTRUCTION]]: If threat persists but should not keep escalating HARD_STATE, prefer modifiers.

AROUSAL_OVERLAY:
- Propose ADD_MODIFIER into TEMPORARY_MODIFIERS:
  TARGET_MODULE: TEMPORARY_MODIFIERS
  TARGET_FIELD: [SKILLS][SKL_XX][EXECUTION]
  OPERATION_TYPE: ADD_MODIFIER
  PROPOSED_VALUE:
    MODIFIER_TYPE: AROUSAL_MODIFIER
    MECHANISM_TAG: HPA_AXIS
    TARGET_FIELD: [SKILLS][SKL_XX][EXECUTION]
    TARGET_ID: SKL_XX
    EFFECT_EXPRESSION: HIGH_AROUSAL_NARROWS_ATTENTION
    MAGNITUDE: -10_PERCENT
    STACKING_RULE: REPLACE
    DURATION_TYPE: SCENE
    DURATION_VALUE: THIS_SCENE
    EXPIRY_CONDITION: SCENE_TRANSITION
    JUSTIFICATION: THREAT_PERSISTS_SUSTAINED_AROUSAL

COGNITIVE_LOAD_OVERLAY:
- If uncertainty or overload cues present:
  - Propose ADD_MODIFIER:
    TARGET_MODULE: TEMPORARY_MODIFIERS
    TARGET_FIELD: [SKILLS][SKL_XX][EXECUTION]
    OPERATION_TYPE: ADD_MODIFIER
    PROPOSED_VALUE:
      MODIFIER_TYPE: COGNITIVE_LOAD_MODIFIER
      MECHANISM_TAG: UNCERTAINTY_THREAT
      TARGET_FIELD: [SKILLS][SKL_XX][EXECUTION]
      TARGET_ID: SKL_XX
      EFFECT_EXPRESSION: UNCERTAINTY_INCREASES_COGNITIVE_LOAD
      MAGNITUDE: -20_PERCENT
      STACKING_RULE: REPLACE
      DURATION_TYPE: SCENE
      DURATION_VALUE: THIS_SCENE
      EXPIRY_CONDITION: SCENE_TRANSITION
      JUSTIFICATION: UNCERTAINTY_CUES_PRESENT

=== SECTION_BREAK ===

=== SECTION: STAGE_3_RESOLUTION_OR_EXHAUSTION_PROPOSALS ===

[[LLM_INSTRUCTION]]: Handle recovery or prolonged threat.

ON_THREAT_RESOLUTION:
- Prefer REMOVE_MODIFIER proposals when expiry condition is met.
- Avoid hard-reset endocrine states unless explicit rest or recovery cue exists.

ON_MULTI_DAY_THREAT:
- If explicit multi-day sustained threat is present:
  - Propose TRANSITION:
    TARGET_FIELD: [BODY][BIOCHEMICAL_STATE_MARKERS][CORTISOL]
    PROPOSED_VALUE: ONE_STEP_TOWARD_CHRONIC
    MECHANISM_TAG: HPA_AXIS
  - Propose TRANSITION:
    TARGET_FIELD: [BODY][BIOCHEMICAL_STATE_MARKERS][ADRENALINE]
    PROPOSED_VALUE: ONE_STEP_TOWARD_HEIGHTENED
    MECHANISM_TAG: SYMPATHETIC

=== SECTION_BREAK ===

=== SECTION: COPE_SELECTION_GUIDANCE ===

[[LLM_INSTRUCTION]]: When selecting coping responses, propose COPE updates conservatively. COPE is persistent state; do not thrash it every cycle unless stress cues are strong.

COPE_RULES:
- If stress is acute and action is possible:
  - Prefer [COPE][PRIMARY_MECHANISM]: ACTIVE_COPING or PLANNING depending on narrative
- If stress is overwhelming and agency is low:
  - DENIAL or VENTING may appear as impulses, not necessarily persistent selection
- Substance use:
  - Only set [COPE][PRIMARY_MECHANISM] to SUBSTANCE_USE if explicitly chosen behaviorally
  - Otherwise adjust [COPE][SUBSTANCE_USE_RISK] as a qualitative 0-100 estimate

=== SECTION_BREAK ===

=== SECTION: BEHAVIORAL_IMPULSE_GENERATION ===

[[LLM_INSTRUCTION]]: Generate behavioral impulses and write them to [COGNITIVE_SCRATCHPAD][ACTIVE_IMPULSE_REGISTRY].

Impulse_Output_Format:
IMPULSE_SOURCE: STRESS_CASCADE_RESOLUTION
IMPULSE_TYPE: [FIGHT | FLIGHT | FREEZE | FAWN | COPING_MECHANISM]
IMPULSE_STRENGTH: [0-100]
TARGET_ID: [Optional ENT_XX, else NONE]
JUSTIFICATION: [Brief cue-based reason]
JUSTIFICATION_CATEGORY: DIRECT_APPLICATION

=== SECTION_BREAK ===

=== SECTION: SYSTEM_UPDATE_DIRECTIVES ===

[[LLM_INSTRUCTION]]: After completing stress cascade reasoning:
- Write proposals only into [COGNITIVE_SCRATCHPAD][PROPOSED_UPDATES_REGISTRY]
- Write impulses only into [COGNITIVE_SCRATCHPAD][ACTIVE_IMPULSE_REGISTRY]
- Append a TRACE_ENTRY into [COGNITIVE_SCRATCHPAD][CASCADE_TRACE]

TRACE_ENTRY_MINIMUM_FIELDS:
COT_NAME: STRESS_CASCADE_RESOLUTION
KEY_OUTPUTS:
- [Stressor classification summary]
GENERATED_IMPULSES:
- [List of impulse types or NONE]
PROPOSED_UPDATES_COUNT: [Number]
NOTES:
- [Short notes]

=== SECTION_BREAK ===

[KEY_TERM: Document Complete]